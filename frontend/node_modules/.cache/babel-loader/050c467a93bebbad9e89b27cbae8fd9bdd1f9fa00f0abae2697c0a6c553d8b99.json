{"ast":null,"code":"var _jsxFileName = \"/Users/asyuyukiume/Gijirokun/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ReactMediaRecorder } from 'react-media-recorder';\nimport Tree from 'react-d3-tree';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [result, setResult] = useState({\n    transcript: '',\n    analysis: '',\n    mindmap: null\n  });\n  const sendAudioToServer = async audioBlob => {\n    const formData = new FormData();\n    formData.append('audio', audioBlob, 'recording.webm');\n    try {\n      const res = await fetch('http://localhost:8000/transcribe', {\n        method: 'POST',\n        body: formData\n      });\n      if (!res.ok) {\n        throw new Error(`サーバーエラー: ${res.statusText}`);\n      }\n      const data = await res.json();\n      setResult({\n        transcript: data.transcript,\n        analysis: data.analysis,\n        mindmap: data.mindmap\n      });\n    } catch (error) {\n      console.error('通信エラー:', error);\n      setResult({\n        transcript: '',\n        analysis: '通信エラーが発生しました',\n        mindmap: null\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u4F1A\\u8B70AI\\u30C4\\u30FC\\u30EB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactMediaRecorder, {\n      audio: true,\n      video: false,\n      mimeType: \"audio/webm;codecs=opus\",\n      onStop: (blobUrl, blob) => {\n        sendAudioToServer(blob);\n      },\n      render: ({\n        status,\n        startRecording,\n        stopRecording\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u9332\\u97F3\\u30B9\\u30C6\\u30FC\\u30BF\\u30B9: \", status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startRecording,\n          children: \"\\u9332\\u97F3\\u958B\\u59CB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopRecording,\n          children: \"\\u9332\\u97F3\\u505C\\u6B62\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px',\n            padding: '10px',\n            border: '1px solid #ccc'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"AI\\u306B\\u3088\\u308B\\u8B70\\u4E8B\\u9332\\u3068\\u6539\\u5584\\u6848\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              whiteSpace: 'pre-wrap'\n            },\n            children: result.analysis\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '500px',\n            marginTop: '20px'\n          },\n          children: result.mindmap && /*#__PURE__*/_jsxDEV(Tree, {\n            data: result.mindmap,\n            orientation: \"vertical\",\n            translate: {\n              x: 300,\n              y: 50\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px',\n            padding: '10px',\n            backgroundColor: '#eef9ff'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u6587\\u5B57\\u8D77\\u3053\\u3057\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              whiteSpace: 'pre-wrap'\n            },\n            children: result.formatted_transcript\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Psid8/+xTzhlNeRUIteyM6lQPic=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","ReactMediaRecorder","Tree","jsxDEV","_jsxDEV","App","_s","result","setResult","transcript","analysis","mindmap","sendAudioToServer","audioBlob","formData","FormData","append","res","fetch","method","body","ok","Error","statusText","data","json","error","console","style","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","audio","video","mimeType","onStop","blobUrl","blob","render","status","startRecording","stopRecording","onClick","marginTop","padding","border","whiteSpace","width","height","orientation","translate","x","y","backgroundColor","formatted_transcript","_c","$RefreshReg$"],"sources":["/Users/asyuyukiume/Gijirokun/frontend/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ReactMediaRecorder } from 'react-media-recorder';\nimport Tree from 'react-d3-tree';\n\nfunction App() {\n  const [result, setResult] = useState({\n    transcript: '',\n    analysis: '',\n    mindmap: null,\n  });\n\n  const sendAudioToServer = async (audioBlob) => {\n    const formData = new FormData();\n    formData.append('audio', audioBlob, 'recording.webm');\n\n    try {\n      const res = await fetch('http://localhost:8000/transcribe', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!res.ok) {\n        throw new Error(`サーバーエラー: ${res.statusText}`);\n      }\n\n      const data = await res.json();\n      setResult({\n        transcript: data.transcript,\n        analysis: data.analysis,\n        mindmap: data.mindmap,\n      });\n    } catch (error) {\n      console.error('通信エラー:', error);\n      setResult({\n        transcript: '',\n        analysis: '通信エラーが発生しました',\n        mindmap: null,\n      });\n    }\n  };\n\n  return (\n    <div style={{ margin: '20px' }}>\n      <h1>会議AIツール</h1>\n\n      <ReactMediaRecorder\n        audio\n        video={false}\n        mimeType=\"audio/webm;codecs=opus\"\n        onStop={(blobUrl, blob) => {\n          sendAudioToServer(blob);\n        }}\n        render={({ status, startRecording, stopRecording }) => (\n          <div>\n            <p>録音ステータス: {status}</p>\n            <button onClick={startRecording}>録音開始</button>\n            <button onClick={stopRecording}>録音停止</button>\n\n            {/* AI分析済みの議事録表示エリア */}\n            <div style={{ marginTop: '20px', padding: '10px', border: '1px solid #ccc' }}>\n              <h2>AIによる議事録と改善案</h2>\n              <pre style={{ whiteSpace: 'pre-wrap' }}>{result.analysis}</pre>\n            </div>\n\n            {/* マインドマップ表示エリア */}\n            <div style={{ width: '100%', height: '500px', marginTop: '20px' }}>\n              {result.mindmap && (\n                <Tree\n                  data={result.mindmap}\n                  orientation=\"vertical\"\n                  translate={{ x: 300, y: 50 }}\n                />\n              )}\n            </div>\n\n            {/* 表示エリアを追加（整形済み文字起こし）*/}\n            <div style={{ marginTop: '20px', padding: '10px', backgroundColor: '#eef9ff' }}>\n             <h3>文字起こし</h3>\n            <pre style={{ whiteSpace: 'pre-wrap' }}>{result.formatted_transcript}</pre>\n          </div>\n          </div>\n        )}\n      />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,OAAOC,IAAI,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC;IACnCS,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,MAAMC,iBAAiB,GAAG,MAAOC,SAAS,IAAK;IAC7C,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,SAAS,EAAE,gBAAgB,CAAC;IAErD,IAAI;MACF,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC1DC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN;MACR,CAAC,CAAC;MAEF,IAAI,CAACG,GAAG,CAACI,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAAC,YAAYL,GAAG,CAACM,UAAU,EAAE,CAAC;MAC/C;MAEA,MAAMC,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7BjB,SAAS,CAAC;QACRC,UAAU,EAAEe,IAAI,CAACf,UAAU;QAC3BC,QAAQ,EAAEc,IAAI,CAACd,QAAQ;QACvBC,OAAO,EAAEa,IAAI,CAACb;MAChB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9BlB,SAAS,CAAC;QACRC,UAAU,EAAE,EAAE;QACdC,QAAQ,EAAE,cAAc;QACxBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAED,oBACEP,OAAA;IAAKwB,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC7B1B,OAAA;MAAA0B,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEhB9B,OAAA,CAACH,kBAAkB;MACjBkC,KAAK;MACLC,KAAK,EAAE,KAAM;MACbC,QAAQ,EAAC,wBAAwB;MACjCC,MAAM,EAAEA,CAACC,OAAO,EAAEC,IAAI,KAAK;QACzB5B,iBAAiB,CAAC4B,IAAI,CAAC;MACzB,CAAE;MACFC,MAAM,EAAEA,CAAC;QAAEC,MAAM;QAAEC,cAAc;QAAEC;MAAc,CAAC,kBAChDxC,OAAA;QAAA0B,QAAA,gBACE1B,OAAA;UAAA0B,QAAA,GAAG,8CAAS,EAACY,MAAM;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxB9B,OAAA;UAAQyC,OAAO,EAAEF,cAAe;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC9C9B,OAAA;UAAQyC,OAAO,EAAED,aAAc;UAAAd,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAG7C9B,OAAA;UAAKwB,KAAK,EAAE;YAAEkB,SAAS,EAAE,MAAM;YAAEC,OAAO,EAAE,MAAM;YAAEC,MAAM,EAAE;UAAiB,CAAE;UAAAlB,QAAA,gBAC3E1B,OAAA;YAAA0B,QAAA,EAAI;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrB9B,OAAA;YAAKwB,KAAK,EAAE;cAAEqB,UAAU,EAAE;YAAW,CAAE;YAAAnB,QAAA,EAAEvB,MAAM,CAACG;UAAQ;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eAGN9B,OAAA;UAAKwB,KAAK,EAAE;YAAEsB,KAAK,EAAE,MAAM;YAAEC,MAAM,EAAE,OAAO;YAAEL,SAAS,EAAE;UAAO,CAAE;UAAAhB,QAAA,EAC/DvB,MAAM,CAACI,OAAO,iBACbP,OAAA,CAACF,IAAI;YACHsB,IAAI,EAAEjB,MAAM,CAACI,OAAQ;YACrByC,WAAW,EAAC,UAAU;YACtBC,SAAS,EAAE;cAAEC,CAAC,EAAE,GAAG;cAAEC,CAAC,EAAE;YAAG;UAAE;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGN9B,OAAA;UAAKwB,KAAK,EAAE;YAAEkB,SAAS,EAAE,MAAM;YAAEC,OAAO,EAAE,MAAM;YAAES,eAAe,EAAE;UAAU,CAAE;UAAA1B,QAAA,gBAC9E1B,OAAA;YAAA0B,QAAA,EAAI;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACf9B,OAAA;YAAKwB,KAAK,EAAE;cAAEqB,UAAU,EAAE;YAAW,CAAE;YAAAnB,QAAA,EAAEvB,MAAM,CAACkD;UAAoB;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IACL;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAAC5B,EAAA,CAjFQD,GAAG;AAAAqD,EAAA,GAAHrD,GAAG;AAmFZ,eAAeA,GAAG;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}